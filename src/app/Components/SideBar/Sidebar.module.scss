@use "../../styles/mixins" as mixins;
@use "../../styles/typography" as typography;
@use "../../styles/variables" as variables;


.sidebar {
	display: flex;
	flex-direction: column;
	justify-content: space-between;
	background-color: var(--color-surface);
	max-width: 25rem;
	width: 30dvw;
	border-right: .1rem solid var(--color-border);
	//overflow: hidden;

	.profile-section {
		display: flex;
		border-bottom: .1rem solid var(--color-border);
		padding: var(--space-lg);
		gap: var(--space-md);
	}

	.profile-button {
		height: 2.8rem;
		width: 2.8rem;
		border-radius: variables.$radius-rounded;
		border: none;
		cursor: pointer;

		&:focus-visible {
			outline: .1rem solid var(--color-primary);
			outline-offset: .1rem;
		}
	}

	.profile-image {
		height: 2.8rem;
		width: 2.8rem;
		object-fit: cover;
		border-radius: variables.$radius-rounded;
	}

	.profile-info {
		display: flex;
		flex-direction: column;
		justify-content: space-between;
		min-width: 0;
		flex: 1;
	}

	.username {
		font-weight: 700;
	}

	.email {
		font-weight: 300;
		color: var(--color-text-muted);
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	.sticky-section {
		position: sticky;
		top:0;
	}

	.week-slider-section {

		padding: var(--space-lg);
		border-bottom: .1rem solid var(--color-border);

	}

	.current-week-indicator {
		display: flex;
		width: 100%;
		justify-content: center;
		margin-top: var(--space-md);
		background-color: var(--color-primary);
		padding: var(--space-sm);
		border-radius: variables.$radius-md;
		color: var(--color-surface);
		font-weight: 600;
	}

	.remember-section {
		padding-block: var(--space-lg);
		border-bottom: .1rem solid var(--color-border);
	}

	.remember-header {
		padding-inline: var(--space-lg);
	}

	.remember-header-row {
		display: flex;
		align-items: center;
		margin-bottom: var(--space-lg);
	}

	.add-header-button {
		background-color: var(--color-primary);
		border: .1rem solid var(--color-border);
		cursor: pointer;
		color: var(--color-surface);
		padding-inline: .6rem; /* compact button sizing */
		padding-block: .25rem;
		border-radius: variables.$radius-md;
		display: flex;
		align-items: center;
		justify-content: center;
		box-shadow: 0 1px 0 var(--color-shadow-xs);
		transition: background-color .15s ease, color .15s ease, border-color .15s ease, box-shadow .15s ease, transform .05s ease;

		&:focus-visible {
			outline: .1rem solid var(--color-primary);
			outline-offset: .1rem;
		}
	}

	.remember-items {
		display: flex;
		flex-direction: column;
		gap: var(--space-sm);
		max-height: 50dvh;
		overflow-y: auto;
		padding: var(--space-lg) var(--space-lg) var(--space-lg) var(--space-lg);
	}

	.remember-loading {
		align-self: center;
	}

 .add-item {
	 	margin-top: var(--space-lg);
		background-color: var(--color-primary);
		color: var(--color-surface);
		border: none;
		display: flex;
		align-items: center;
		justify-content: center;
		gap: .5rem;
		cursor: pointer;
		margin-inline: var(--space-lg);
		padding: .6rem .9rem;
		border-radius: variables.$radius-lg;
		font-weight: 600;

		&:hover {
			background-color: var(--color-primary-dark);
		}

		&:focus-visible {
			outline: .16rem solid var(--color-primary-light);
			outline-offset: 2px;
		}
	}

	.settings-section {
		margin-top: auto;
		display: flex;
		flex-direction: column;
		gap: var(--space-sm);
		padding: var(--space-lg);
	}

	.settings-item {
		margin-top: auto;
		width: fit-content;
		display: flex;
		gap: var(--space-md);
		background-color: var(--color-surface);
		border: none;
		cursor: pointer;
		padding-block: .2rem;
		padding-inline: .3rem;
		color: var(--color-text-settings);

		&:hover {
			color: var(--color-text);
		}

		&:focus-visible {
			color: var(--color-text);
			outline: .1rem solid var(--color-text);
			border-radius: variables.$radius-sm;
		}
	}

	.settings-label {
		font-weight: 300;
	}

}